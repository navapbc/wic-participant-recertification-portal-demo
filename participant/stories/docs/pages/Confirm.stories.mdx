import Confirm from "app/routes/$localAgency/recertify/confirm";
import { decoratorFunc } from "../../../.storybook/preview";
import Layout from "app/components/Layout";
import { Canvas, Meta, Story } from "@storybook/addon-docs";

<Meta
  title="Docs/Pages/Confirm"
  parameters={{
    viewMode: "docs",
    previewTabs: {
      canvas: { hidden: true },
    },
    decorators: [decoratorFunc],
  }}
/>

## Participant Form Flow

<ul className="breadcrumb">
  <li>
    <a href="?path=/docs/docs-pages-index--index">Index</a>
  </li>
  <li>
    <a href="?path=/docs/docs-pages-about--about">About</a>
  </li>
  <li>
    <a href="?path=/docs/docs-pages-name--name">Name</a>
  </li>
  <li>
    <a href="?path=/docs/docs-pages-count--count">Count</a>
  </li>
  <li>
    <a href="?path=/docs/docs-pages-details--details">Details</a>
  </li>
  <li>
    <a href="?path=/docs/docs-pages-changes--changes">Changes</a>
  </li>
  <li>
    <a href="?path=/docs/docs-pages-upload--upload">Upload</a>
  </li>
  <li>
    <a href="?path=/docs/docs-pages-contact--contact">Contact</a>
  </li>
  <li>
    <a href="?path=/docs/docs-pages-review--review">Review</a>
  </li>
  <li>Confirm</li>
</ul>

# Confirm

## About This Page

This page confirms the submission and shows content about next steps. It contains an optional user survey for feedback about their experience. It shows the user's submitted information.

### Considerations for states:

- You may want to update next steps content with agency specific next steps.
- Replace the survey link with your own to collect user feedback.

## Development

The Confirm page renders all previous page data stored in `SubmissionForm` (and a count of `Document` records) in a special component (not in Storybook) called a [`<SubmissionForm>`](participant/app/components/SubmissionForm.tsx)

Once the participant reaches this page, they are not longer able to edit any information. If they click the back button in their browser, an alert will appear asking the individual if they would like to reset their cookie to allow completing the form a second (or nth) time.

The contents of this page are controlled by four things -

- The database contents for `SubmissionForm` and `Documents`
- The layout in the component [`<SubmissionForm>`](participant/app/components/SubmissionForm.tsx)
- The layout contained in [app/routes/$localAgency/recertify/confirm.tsx](participant/app/routes/%24localAgency/recertify/confirm.tsx)
- The i18next strings for the `"Review"` key and the `"Confirm"` key in [public/locales/en/common.json](locales/en/common.json)

<Canvas>
  <Story name="Confirm">{Confirm()}</Story>
</Canvas>
